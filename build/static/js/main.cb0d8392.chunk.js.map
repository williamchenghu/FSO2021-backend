{"version":3,"sources":["services/persons.js","components/PersonForm.js","components/Filter.js","components/Button.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["dbURL","personService","getAll","axios","get","then","response","data","create","newObject","post","update","id","newOject","put","remove","delete","InputField","inputLable","inputValue","changeHandler","value","onChange","PersonForm","personList","setPersonList","newName","newNumber","setNewName","setNewNumber","setMessageType","setMessage","onSubmit","event","preventDefault","personObject","name","number","find","e","window","confirm","updatedPerson","console","log","setTimeout","filter","concat","catch","err","newPerson","target","type","Filter","setFilter","filterLable","Button","text","eventHandler","onClick","Person","Persons","personFilter","toLowerCase","includes","map","Notification","message","messageType","undefined","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","persons","setPersons","nameFilter","setNameFilter","newNameToAdd","setNewNameToAdd","newNumberToAdd","setNewNumberToAdd","useEffect","initialPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cb0d8392.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst dbURL = `/api/persons`;\n\nconst getAll = () => {\n  const request = axios.get(dbURL);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(dbURL, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newOject) => {\n  const request = axios.put(`${dbURL}/${id}`, newOject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${dbURL}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst personService = { getAll, create, update, remove };\n\nexport default personService;\n","import React from \"react\";\nimport personService from \"../services/persons\";\n\nconst InputField = ({ inputLable, inputValue, changeHandler }) => (\n  <div>\n    {inputLable} <input value={inputValue} onChange={changeHandler} />\n  </div>\n);\n\nconst PersonForm = ({\n  personList,\n  setPersonList,\n  newName,\n  newNumber,\n  setNewName,\n  setNewNumber,\n  setMessageType,\n  setMessage,\n}) => {\n  const handleNameChange = (event) => setNewName(event.target.value);\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n    if (personList.find((e) => e.name === newName)) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        personService\n          .update(personList.find((e) => e.name === newName).id, personObject)\n          .then((updatedPerson) => {\n            console.log(`updatedPerson`, updatedPerson);\n            setMessageType(true);\n            setMessage(`Phone number of ${updatedPerson.name} updated.`);\n            setTimeout(() => {\n              setMessageType();\n              setMessage(null);\n            }, 3000);\n            setPersonList(\n              personList.filter((e) => e.name !== newName).concat(updatedPerson)\n            );\n          })\n          .catch((err) => {\n            setMessageType(false);\n            setMessage(\n              `${personObject.name} info cannot be updated, maybe it was removed?`\n            );\n            setTimeout(() => {\n              setMessage(null);\n              setMessageType();\n            }, 3000);\n            console.log(`err`, err);\n          });\n      }\n    } else\n      personService\n        .create(personObject)\n        .then((newPerson) => {\n          setMessageType(true);\n          setPersonList(personList.concat(newPerson));\n          setMessage(`Added ${newPerson.name}`);\n          setTimeout(() => {\n            setMessageType();\n            setMessage(null);\n          }, 3000);\n          setNewName(\"\");\n          setNewNumber(\"\");\n        })\n        .catch((err) => console.log(\"oops, sth had gone wrong...\", err));\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <InputField\n          inputLable=\"name: \"\n          inputValue={newName}\n          changeHandler={handleNameChange}\n        />\n        <InputField\n          inputLable=\"number: \"\n          inputValue={newNumber}\n          changeHandler={handleNumberChange}\n        />\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Filter = ({ filter, setFilter, filterLable }) => {\n  const handleFilter = (event) => setFilter(event.target.value);\n\n  return (\n    <div>\n      {filterLable}\n      <input value={filter} onChange={handleFilter} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Button = ({ text, eventHandler }) => (\n  <>\n    <button onClick={eventHandler}>{text}</button>\n  </>\n);\n\nexport default Button;\n","import React from \"react\";\nimport Button from \"./Button\";\nimport personService from \"../services/persons\";\n\nconst Person = ({ id, name, number, setMessage, setMessageType }) => (\n  <div>\n    {name} {number}\n    <Button\n      text=\"delete\"\n      eventHandler={() => {\n        if (window.confirm(`Delete ${name}?`)) {\n          personService.remove(id).catch((err) => {\n            setMessageType(false);\n            setMessage(`${name} cannot be deleted, maybe it has been already!`);\n            setTimeout(() => {\n              setMessage(null);\n              setMessageType();\n            }, 3000);\n            console.log(`err`, err);\n          });\n        }\n      }}\n    />\n  </div>\n);\n\nconst Persons = ({ personList, personFilter, setMessageType, setMessage }) => {\n  return (\n    <>\n      {personFilter\n        ? personList\n            .filter((e) =>\n              e.name.toLowerCase().includes(personFilter.toLowerCase())\n            )\n            .map((e) => (\n              <Person\n                key={e.id}\n                id={e.id}\n                name={e.name}\n                number={e.number}\n                setMessageType={setMessageType}\n                setMessage={setMessage}\n              />\n            ))\n        : personList.map((e) => (\n            <Person\n              key={e.id}\n              id={e.id}\n              name={e.name}\n              number={e.number}\n              setMessageType={setMessageType}\n              setMessage={setMessage}\n            />\n          ))}\n    </>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message, messageType }) => {\n  const normalStyle = {\n    color: \"#82B366\",\n    background: \"#D5E8D4\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n  const errorStyle = {\n    color: \"#b85450\",\n    background: \"#f8cecc\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n\n  // console.log(`message`, message);\n  // console.log(`messageType`, messageType);\n\n  if (messageType === undefined) {\n    return <></>;\n  } else if (messageType) {\n    return <div style={normalStyle}>{message}</div>;\n  } else {\n    return <div style={errorStyle}>{message}</div>;\n  }\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [nameFilter, setNameFilter] = useState(\"\");\n  const [newNameToAdd, setNewNameToAdd] = useState(\"\");\n  const [newNumberToAdd, setNewNumberToAdd] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [messageType, setMessageType] = useState();\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((initialPersons) => setPersons(initialPersons))\n      .catch((err) => console.log(\"oops, sth had gone wrong...\", err));\n  }, []);\n  // console.log(\"render\", persons.length, \"persons\");\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} messageType={messageType} />\n      <Filter\n        filter={nameFilter}\n        setFilter={setNameFilter}\n        filterLable=\"filter shown with \"\n      />\n      <h3>Add a new</h3>\n      <PersonForm\n        personList={persons}\n        setPersonList={setPersons}\n        newName={newNameToAdd}\n        newNumber={newNumberToAdd}\n        setNewName={setNewNameToAdd}\n        setNewNumber={setNewNumberToAdd}\n        setMessageType={setMessageType}\n        setMessage={setMessage}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        personList={persons}\n        personFilter={nameFilter}\n        setMessageType={setMessageType}\n        setMessage={setMessage}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}